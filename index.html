<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEGEA PARLAY - Admin System</title>
    <style>
        :root {
            --sidebar-color: #1a1c2c;
            --main-bg: #050505;
            --accent-yellow: #facc15;
            --dark-editor: #1e1e2e;
            --border-line: rgba(250, 204, 21, 0.5);
        }

        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            margin: 0; padding: 0; display: flex; 
            width: 100vw; height: 100vh; background: var(--main-bg); 
            color: white; overflow: hidden; 
        }

        /* --- SIDEBAR --- */
        .sidebar {
            width: 280px; min-width: 280px; 
            background: var(--sidebar-color); color: white;
            display: flex; flex-direction: column; padding: 20px 0 0 0;
            z-index: 100; position: relative; height: 100vh;
            box-sizing: border-box;
        }

        .sidebar::after {
            content: ""; position: absolute; right: 0; top: 0; width: 3px; height: 100%;
            background: linear-gradient(to bottom, var(--accent-yellow), #facc15, var(--accent-yellow));
            box-shadow: 2px 0 15px var(--accent-yellow);
        }

        .brand { 
            padding: 0 20px 20px; font-weight: 900; color: var(--accent-yellow); 
            font-size: 1.3rem; cursor: pointer; text-align: center; letter-spacing: 1px; 
            text-shadow: 0 0 10px rgba(250, 204, 21, 0.5);
        }

        #menu-list { flex: 1; overflow-y: auto; scrollbar-width: thin; }

        /* --- NAV ITEM --- */
        .nav-item {
            padding: 14px 20px; cursor: pointer; font-size: 0.85rem;
            transition: all 0.3s ease; border-bottom: 1px solid rgba(255,255,255,0.05);
            font-weight: 900; text-transform: uppercase;
            background: linear-gradient(90deg, #ffffff, #00ced1, #ffffff);
            background-size: 200% auto;
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            animation: textFlow 3s linear infinite;
        }

        @keyframes textFlow {
            0% { background-position: 0% center; }
            100% { background-position: 200% center; }
        }

        .nav-item:hover { 
            background: linear-gradient(90deg, #00ced1, #ffffff);
            -webkit-background-clip: unset; -webkit-text-fill-color: #000; 
            padding-left: 25px; 
        }

        .nav-item.active {
            background: linear-gradient(90deg, #facc15, #fff, #facc15);
            background-size: 200% auto;
            -webkit-background-clip: unset; -webkit-text-fill-color: #000;
            border-left: 8px solid #00ced1;
            animation: textFlow 2s linear infinite;
        }

        /* --- MAIN CONTENT --- */
        .main-content { 
            flex-grow: 1; display: flex; flex-direction: column; 
            overflow: hidden; position: relative; background: var(--main-bg);
        }
        
        header {
            background: white; padding: 15px 25px; font-weight: 900; color: #000;
            border-bottom: 3px solid var(--accent-yellow); display: flex; 
            justify-content: space-between; align-items: center; z-index: 50;
        }

        .view-panel { 
            flex: 1; position: relative; display: flex; flex-direction: column;
            width: 100%; overflow: hidden; 
        }

        #render-area { 
            position: relative; z-index: 10; width: 100%; height: 100%; 
            overflow-y: auto; padding: 20px; box-sizing: border-box; display: block; 
        }

        .stars-container {
            position: absolute; width: 100%; height: 100%; z-index: 1;
            background: radial-gradient(ellipse at bottom, #1B2735 0%, #050505 100%);
        }

        .star { position: absolute; background: white; border-radius: 50%; opacity: 0; animation: twinkle var(--duration) infinite ease-in-out; }
        @keyframes twinkle { 0%, 100% { opacity: 0; transform: scale(0.5); } 50% { opacity: 1; transform: scale(1.6); } }

        /* --- HOME WALLPAPER --- */
        .brand-container { 
            display: flex; flex-direction: column; justify-content: center; 
            align-items: center; height: 100%; 
        }
        .gold-text {
            font-size: 5rem; font-weight: 900; letter-spacing: 5px;
            background: linear-gradient(120deg, #b08d57, #fef3c7, #dbbc1d);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            margin: 0; text-align: center;
        }

        .admin-panel { position: absolute; top:0; left:0; width:100%; height:100%; background:#050505; z-index:200; display:flex; flex-direction:column; }
        #code-editor { flex:1; margin:20px; background:#1e1e2e; color:#fff; padding:20px; border:1px solid var(--accent-yellow); font-family: monospace; outline: none; }
        
        .hidden { display: none !important; }
    </style>
</head>
<body>

    <aside class="sidebar">
        <div class="brand" onclick="showHome()">DEGEA SPORTBOOK</div>
        <div id="menu-list"></div>
        <div style="padding:15px; background: rgba(0,0,0,0.4);">
            <button onclick="toggleAdmin()" style="width:100%; padding:10px; cursor:pointer; font-weight:bold; background:#333; color:white; border:1px solid var(--accent-yellow);">âš™ PANEL ADMIN</button>
        </div>
    </aside>

    <main class="main-content">
        <header>
            <span id="current-title">WELCOME</span>
            <button onclick="saveContent()" id="save-btn-header" class="hidden" style="background:#10b981; color:white; border:none; padding:8px 15px; border-radius:4px; cursor:pointer; font-weight:bold;">SIMPAN DATA</button>
        </header>

        <div class="view-panel">
            <div class="stars-container" id="starfield"></div>
            <div id="render-area"></div>
        </div>

        <div id="admin-panel" class="admin-panel hidden">
            <textarea id="code-editor" placeholder="Edit koding perhitungan di sini..."></textarea>
            <div style="padding:20px; text-align:right; gap:10px; display:flex; justify-content:flex-end;">
                <button onclick="toggleAdmin()" style="padding:10px 25px; cursor:pointer; background:#ef4444; color:white; border:none; font-weight:bold;">BATAL</button>
                <button onclick="saveContent()" style="padding:10px 25px; cursor:pointer; background:#10b981; color:white; border:none; font-weight:bold;">SIMPAN PERUBAHAN</button>
            </div>
        </div>
    </main>

<script>
    // DATA KONTEN (Kamu bisa isi materi di sini agar muncul otomatis di GitHub)
    const contentData = {
        "CARA BERMAIN SABA SPORT": "<h2>Materi Cara Bermain...</h2>",
        "PENGERTIAN TARUHAN": "<h2>Penjelasan Taruhan...</h2>",
        "PARLAY": "<h2>Kalkulator Parlay...</h2>"
    };

    const menus = [
        "CARA BERMAIN SABA SPORT", "PENGERTIAN TARUHAN", "ODDS MINUS (-)", 
        "HANDICAP", "FT 1X2", "1H O/U", 
        "FT.O/U", "HANDICAP 3 ARAH", "DOUBLE CHANGE", "TOTAL BOOKINGS", 
        "HALF LOST", "PARLAY", "TRIXIE (3 TIM)", "YANKEE (4 TIM)", 
        "CANADIAN (5 TIM)", "HEINZ (6 TIM)", "SUPER HEINZ (7 TIM)", "GOLIATH (8 TIM)"
    ];

    let activeMenu = null;

    function renderMenuList() {
        const list = document.getElementById('menu-list');
        list.innerHTML = '';
        menus.forEach(m => {
            const div = document.createElement('div');
            div.className = 'nav-item' + (activeMenu === m ? ' active' : '');
            div.innerText = m;
            div.onclick = () => switchMenu(m);
            list.appendChild(div);
        });
    }

    function switchMenu(name) {
        activeMenu = name;
        document.getElementById('current-title').innerText = name;
        renderMenuList();
        
        // Mengambil konten dari objek lokal (Bukan google.script.run)
        const htmlContent = contentData[name] || `<p style='text-align:center; margin-top:50px;'>Konten untuk <b>${name}</b> belum diisi.</p>`;
        
        const area = document.getElementById('render-area');
        area.innerHTML = htmlContent;
        document.getElementById('code-editor').value = htmlContent;

        // EKSEKUSI SCRIPT DINAMIS
        const scripts = area.getElementsByTagName("script");
        for (let i = 0; i < scripts.length; i++) {
            const newScript = document.createElement("script");
            newScript.text = scripts[i].text;
            document.body.appendChild(newScript).parentNode.removeChild(newScript);
        }
    }

    function showHome() {
        activeMenu = null;
        renderMenuList();
        document.getElementById('current-title').innerText = "WELCOME";
        document.getElementById('render-area').innerHTML = `
            <div class="brand-container">
                <h1 class="gold-text">DEGEA SPORTBOOK</h1>
                <p style="color:var(--accent-yellow); letter-spacing:3px;">SABA SPORT CALCULATION SYSTEM</p>
            </div>`;
    }

    function toggleAdmin() {
        if(!activeMenu) return alert("Pilih menu perhitungan terlebih dahulu!");
        document.getElementById('admin-panel').classList.toggle('hidden');
    }

    function saveContent() {
        const content = document.getElementById('code-editor').value;
        contentData[activeMenu] = content; // Simpan ke objek sementara
        document.getElementById('render-area').innerHTML = content;
        
        alert("Perubahan pada " + activeMenu + " berhasil diterapkan ke sistem!");
        if(!document.getElementById('admin-panel').classList.contains('hidden')) toggleAdmin();
    }

    function createStars() {
        const starfield = document.getElementById('starfield');
        starfield.innerHTML = '';
        for (let i = 0; i < 150; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.left = Math.random() * 100 + '%';
            star.style.top = Math.random() * 100 + '%';
            const size = (Math.random() * 2 + 1) + 'px';
            star.style.width = size; star.style.height = size;
            star.style.setProperty('--duration', (Math.random() * 3 + 2) + 's');
            starfield.appendChild(star);
        }
    }

    window.onload = () => {
        createStars();
        showHome();
    };
</script>
</body>
</html>
